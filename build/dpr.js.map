{"version":3,"sources":["dpr.js"],"names":["_document","_window","navigatorUserAgent","navigator","userAgent","iPhone","indexOf","dpr","one_dpr","Number","devicePixelRatio","write","html","getElementsByTagName","F0","setAttribute","getFontSize","event","style","fontSize","innerWidth","addEventListener","document","window"],"mappings":";;AAAA,CAAC,UAACA,SAAD,EAAYC,OAAZ,EAAsB;;AAEnB;AACA,QAAMC,qBAAqBD,QAAQE,SAAR,CAAkBC,SAA7C,CAHmB,CAGqC;AACxD,QAAMC,SAASH,mBAAmBI,OAAnB,CAA2B,QAA3B,CAAf,CAJmB,CAIsC;AACzD,QAAIC,YAAJ;AAAA,QAASC,gBAAT,CALmB,CAKuC;;;AAG1D;AACA,QAAGH,SAAS,CAAC,CAAb,EAAe;AACXE,cAAME,OAAOR,QAAQS,gBAAf,CAAN;AACAF,kBAAU,IAAID,GAAd;AACH,KAHD,MAGK;AACDA,cAAM,CAAN;AACAC,kBAAU,CAAV;AACH;;AAEDR,cAAUW,KAAV,uEAAqFH,OAArF,wBAAiHA,OAAjH,wBAA4IA,OAA5I,8FAC+DD,GAD/D;;AAIA;AACA,QAAMK,OAAOZ,UAAUa,oBAAV,CAA+B,MAA/B,EAAuC,CAAvC,CAAb;AACA,QAAMC,KAAK,EAAX,CAvBmB,CAuBkB;AACrCF,SAAKG,YAAL,CAAkB,UAAlB,EAA8BR,GAA9B,EAxBmB,CAwBiB;;AAEpC,aAASS,WAAT,CAAqBC,KAArB,EAA2B;AACvBL,aAAKM,KAAL,CAAWC,QAAX,GAAsBL,KAAKb,QAAQmB,UAAb,GAA0B,GAA1B,GAAgC,IAAtD,CADuB,CACqC;AAC/D;;AAGD;AACAJ;AACAf,YAAQoB,gBAAR,CAAyB,QAAzB,EAAmCL,WAAnC,EAAgD,KAAhD;AAEH,CAnCD,EAmCGM,QAnCH,EAmCaC,MAnCb","file":"dpr.js","sourcesContent":["((_document, _window)=>{\r\n\r\n    // 计算dpr\r\n    const navigatorUserAgent = _window.navigator.userAgent; // 获取请求的用户代理头\r\n    const iPhone = navigatorUserAgent.indexOf('iPhone');     // 判断是否是iphone\r\n    let dpr, one_dpr;                                         // 设备的dpr值和页面的缩放比例\r\n\r\n\r\n    // 根据是否为iphone，计算屏幕的缩放比例\r\n    if(iPhone > -1){\r\n        dpr = Number(_window.devicePixelRatio);\r\n        one_dpr = 1 / dpr;\r\n    }else{\r\n        dpr = 1;\r\n        one_dpr = 1;\r\n    }\r\n\r\n    _document.write(`<meta name=\"viewport\" content=\"width=device-width, initial-scale=${ one_dpr }, maximum-scale=${ one_dpr }, minimum-scale=${one_dpr}, user-scalable=no\">\r\n                     <meta name=\"flexible\" content=\"initial-dpr=${ dpr }\">`);\r\n\r\n\r\n    // 计算html的字体大小\r\n    const html = _document.getElementsByTagName('html')[0];\r\n    const F0 = 75;                       // 以iphone6的750 / 10为基准计算\r\n    html.setAttribute('data-dpr', dpr); // 为html添加[data-dpr=\"x\"]的属性\r\n\r\n    function getFontSize(event){\r\n        html.style.fontSize = F0 * _window.innerWidth / 750 + 'px'; // 计算当前窗口下的字体大小\r\n    }\r\n\r\n\r\n    // 初始化\r\n    getFontSize();\r\n    _window.addEventListener('resize', getFontSize, false);\r\n\r\n})(document, window);"]}